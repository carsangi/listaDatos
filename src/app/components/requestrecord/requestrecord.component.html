<section id="barra_titulo">
    <h1>Historial estados de las Solicitudes de Servicios</h1>
</section>
<section id="barra_fecha">
    <div>
        <label for="">Base de datos</label><br />
        <input type="radio" id="sheet" name="bd_selector" value="1" [(ngModel)]="bd_selector" />
        <label for="sheet">Sheet</label><br />
        <input type="radio" id="sql" value="2" [(ngModel)]="bd_selector" name="bd_selector" />
        <label for="sql">SQL</label><br />
    </div>
    <mat-form-field appearance="standard" id="fecha">
        <mat-label>Fecha</mat-label>
        <mat-date-range-input [rangePicker]="picker">
            <input [(ngModel)]="fechaDesde" matStartDate placeholder="D/M/AAAA" />
            <input [(ngModel)]="fechaHasta" matEndDate placeholder="D/M/AAAA" />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
    <i class="bi bi-search" id="buscar" (click)="buscar()">
        <label for="">Buscar</label>
    </i>
</section>

<section id="tablaHistorial">
    <table *ngIf="busqueda == 1" class="table tamanio" id="tablaTotal">
        <thead>
            <th style = "text-align: center;">Municipio</th>
            <th style = "text-align: center;">Historial</th>
        </thead>
        <tbody>
            <tr *ngFor="let municipio of municipios let i = index">
                <th>{{municipio}}</th>
                <table id="tabla2">
                    <thead>
                        <th class="estadoOperacionClass" >Estado Operacion</th>
                        <th *ngFor="let mes of stringMeses">{{mes}}</th>
                    </thead> 
                    <tbody>
                        <tr *ngFor="let estado of estadosOperacion; let j = index">
                            <th class="estadoOperacionClass">{{estado}}</th> 
                            <td align = " right;" *ngFor="let historial of tabla[i]">
                                <tr>
                                    {{historial[j]}}
                                </tr>  
                        </td>
                    </tbody>
                </table>
            </tr>
        </tbody>
    </table>
</section>